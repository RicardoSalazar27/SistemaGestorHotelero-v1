!function(){let n,t=!1;const e={destroy:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.1.8/i18n/es-MX.json"},dom:'<"row mb-2"<"d-flex justify-content-start col-sm-6"f><"d-flex justify-content-end col-sm-6"B>><"row"<"col-sm-12"tr>><"row d-flex justify-content-between"<"col d-flex justify-content-start"l><"col d-flex justify-content-center"i><"col d-flex justify-content-end"p>>',buttons:[{extend:"excelHtml5",text:'<i class="fa-solid fa-file-excel"></i>',titleAttr:"Exportar a Excel",className:"btn btn-success"},{extend:"pdfHtml5",text:'<i class="fa-solid fa-file-pdf"></i>',titleAttr:"Exportar a PDF",className:"btn btn-danger"},{extend:"csvHtml5",text:'<i class="fa-solid fa-file-csv"></i>',titleAttr:"Exportar a CSV",className:"btn btn-primary"},{extend:"print",text:'<i class="fa-solid fa-print"></i>',titleAttr:"Imprimir",className:"btn btn-info"}],columnDefs:[{orderable:!1,targets:[3,4,7]}]};async function a(){t&&n.destroy(),await async function(){try{const n="http://localhost:3000/api/clientes/listar",t=await fetch(n),e=await t.json(),a=document.getElementById("tableBody_clients");a.innerHTML="",e.forEach((n,t)=>{const e=document.createElement("tr");e.innerHTML=`\n                    <td>${t+1}</td> \n                    <td>${n.nombre}</td>\n                    <td>${n.apellidos}</td>\n                    <td>${n.correo}</td>\n                    <td>${n.telefono}</td>\n                    <td>${n.documento_identidad}</td>\n                    <td>${n.fecha_nacimiento}</td>\n                    <td>\n                        \x3c!-- Botón de editar que abre el modal --\x3e\n                        <button class="btn btn-sm btn-primary" data-toggle="modal" data-target="#editarClienteModal${n.id}">\n                            <i class="fa-solid fa-pen"></i>\n                        </button>\n\n                        \x3c!-- Modal Editar Cliente --\x3e\n                        <div class="modal fade" id="editarClienteModal${n.id}" tabindex="-1" role="dialog" aria-labelledby="clientesModalLabel" aria-hidden="true">\n                        <div class="modal-dialog" role="document">\n                            <div class="modal-content">\n                            <div class="modal-header">\n                                <h5 class="modal-title" id="clientesModalLabel">Editar Cliente</h5>\n                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                                </button>\n                            </div>\n                            <div class="modal-body">\n                                <form action="clientes/editar?id=${n.id}" method="POST">\n                                    <div class="form-group">\n                                        <label for="nombre">Nombre</label>\n                                        <input \n                                            type="text"\n                                            class="form-control"\n                                            id="nombre"\n                                            name="nombre"\n                                            value="${n.nombre}"\n                                        />\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="apellidos">Apellidos</label>\n                                        <input \n                                            type="text"\n                                            class="form-control"\n                                            id="apellidos"\n                                            name="apellidos"\n                                            value="${n.apellidos}"\n                                        />\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="correo">Correo</label>\n                                        <input \n                                            type="email"\n                                            class="form-control"\n                                            id="correo"\n                                            name="correo"\n                                            value="${n.correo}"\n                                        />\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="telefono">Telefono</label>\n                                        <input \n                                            type="text"\n                                            class="form-control"\n                                            id="telefono"\n                                            name="telefono"\n                                            value="${n.telefono}"\n                                        />\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="documento_identidad">DNI</label>\n                                        <input \n                                            type="text"\n                                            class="form-control"\n                                            id="documento_identidad"\n                                            name="documento_identidad"\n                                            value="${n.documento_identidad}"\n                                        />\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="fecha_nacimiento">Fecha de Nacimiento</label>\n                                        <input \n                                            type="date"\n                                            class="form-control"\n                                            id="fecha_nacimiento"\n                                            name="fecha_nacimiento"\n                                            value="${n.fecha_nacimiento}"\n                                        />\n                                    </div>\n\n                                    \x3c!-- Botones en el formulario --\x3e\n                                    <div class="modal-footer">\n                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>\n                                        <button type="submit" class="btn btn-primary">Guardar</button>\n                                    </div>\n                                </form>\n                            </div>\n                            </div>\n                        </div>\n                        </div>\n\n                        \x3c!-- Formulario para eliminar --\x3e\n                        <form method="POST" action="/admin/clientes/eliminar" class="d-inline">\n                            <input type="hidden" name="id" value="${n.id}">\n                            <button class="btn btn-sm btn-danger" type="submit">\n                                <i class="fa-solid fa-trash"></i>\n                            </button>\n                        </form>\n                    </td>\n                `,a.appendChild(e)})}catch(n){console.log(n)}}(),n=$("#datatable_clients").DataTable(e),t=!0}window.addEventListener("load",async()=>{await a()})}(),function(){let n,t=!1;const e={destroy:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.1.8/i18n/es-MX.json"},columnDefs:[{orderable:!1,targets:[3,4,8]}]},a={1:"Administrador",2:"Empleado General",3:"Limpieza"},o={1:"Activo",0:"Inactivo"};async function l(){t&&n.destroy(),await async function(){try{const n="http://localhost:3000/api/usuarios/listar",t=await fetch(n),e=await t.json(),l=document.getElementById("tableBody_users");l.innerHTML="",e.forEach((n,t)=>{const e=document.createElement("tr");e.innerHTML=`\n                    <td>${t+1}</td> \n                    <td>${n.nombre}</td>\n                    <td>${n.apellido}</td>\n                    <td>${n.direccion}</td>\n                    <td>${n.email}</td>\n                    <td>${a[n.rol_id]}</td> \x3c!-- Muestra el rol legible --\x3e\n                    <td>${o[n.estatus]}</td> \x3c!-- Muestra el estatus legible --\x3e\n                    <td>${n.fecha_creacion}</td>\n                    <td>\n                        \x3c!-- Botón de editar --\x3e\n                        <button class="btn btn-sm btn-primary">\n                            <i class="fa-solid fa-pen"></i>\n                        </button>\n\n                        \x3c!-- Formulario para eliminar --\x3e\n                        <form method="POST" action="/admin/usuarios/eliminar" class="d-inline">\n                            <input type="hidden" name="id" value="${n.id}">\n                            <button class="btn btn-sm btn-danger" type="submit">\n                                <i class="fa-solid fa-trash"></i>\n                            </button>\n                        </form>\n                    </td>\n                `,l.appendChild(e)})}catch(n){console.log(n)}}(),n=$("#datatable_users").DataTable(e),t=!0}window.addEventListener("load",async()=>{await l()})}();
//# sourceMappingURL=bundle.js.map
