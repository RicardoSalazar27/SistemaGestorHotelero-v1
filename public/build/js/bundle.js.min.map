{"version":3,"sources":["categorias.js","clientes.js","habitaciones.js","usuarios.js"],"names":["dataTable","dataTableInit","dataTableOption","destroy","language","url","dom","buttons","extend","text","titleAttr","exportOptions","columns","className","columnDefs","orderable","targets","async","initDataTable","resultado","fetch","categorias","json","estatusDictionary","0","1","tableBody","document","getElementById","innerHTML","forEach","categoria","index","row","createElement","nombre","capacidad_maxima","estatus","id","appendChild","addEventListener","e","target","classList","contains","querySelector","value","trim","datos","FormData","Object","entries","key","append","respuesta","method","body","mostrarAlerta","titulo","mensaje","tipo","modal","$","error","console","log","subirActualizacionCategoria","actualizarCategoria","getAttribute","categoriaId","Swal","fire","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","listarCategorias","DataTable","clientes","cliente","apellidos","correo","telefono","documento_identidad","fecha_nacimiento","subirActualizacionCliente","actualizarCliente","clienteId","listarClients","nuevoCliente","visible","habitaciones","url2","resultado2","niveles","url3","resultado3","habitacion","nivel","find","nivel_id","nombreNivel","categoria_id","nombreCategoria","opcionesNiveles","opcionesCategoria","precio","tarifa","detalles","subirActualizacionHabitacion","actualizarHabitacion","habitacionId","listarHabitaciones","nuevaHabitacion","rolesDictionary","2","3","usuarios","usuario","apellido","direccion","email","password","password2","rol_id","fecha_creacion","ultimo_acceso","confirmado","password_actual","password_nuevo","subirActualizacionUsuario","actualizarUsuario","UsuarioId","nuevoUsuario","listarUsers","querySelectorAll","hasClass"],"mappings":"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","file":"bundle.js","sourcesContent":["( function (){\r\n    let dataTable;\r\n    let dataTableInit = false;\r\n\r\n    // Opciones de DataTables\r\n    const dataTableOption = {\r\n        destroy: true,\r\n        language: {\r\n            url: 'https://cdn.datatables.net/plug-ins/2.1.8/i18n/es-MX.json',\r\n        },\r\n        //dom: 'Bfrtip', // Agrega la sección para los botones\r\n        dom: '<\"row mb-2\"<\"d-flex justify-content-start col-sm-6\"f><\"d-flex justify-content-end col-sm-6\"B>>' +  // B-> botones, F -> búsqueda\r\n        '<\"row\"<\"col-sm-12\"tr>>' +             // T -> tabla\r\n         '<\"row d-flex justify-content-between\"<\"col d-flex justify-content-start\"l><\"col d-flex justify-content-center\"i><\"col d-flex justify-content-end\"p>>' ,  // L-> de entradas  - I -> número de resultados por página, P-> paginador\r\n        buttons: [\r\n            {\r\n                extend: 'excelHtml5',\r\n                text: '<i class=\"fa-solid fa-file-excel\"></i>',\r\n                titleAttr: 'Exportar a Excel',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-success'\r\n            },\r\n            {\r\n                extend: 'pdfHtml5',\r\n                text: '<i class=\"fa-solid fa-file-pdf\"></i>',\r\n                titleAttr: 'Exportar a PDF',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-danger'\r\n            },\r\n            {\r\n                extend: 'csvHtml5',\r\n                text: '<i class=\"fa-solid fa-file-csv\"></i>',\r\n                titleAttr: 'Exportar a CSV',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-primary'\r\n            },\r\n            {\r\n                extend: 'print',\r\n                text: '<i class=\"fa-solid fa-print\"></i>',\r\n                titleAttr: 'Imprimir',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-info'\r\n            }\r\n\r\n        ],\r\n        columnDefs: [\r\n            { orderable: false, targets: [2] }  // Desactiva la ordenación en la columna 8 (índice 7)\r\n        ],\r\n    };\r\n\r\n    //Ejecutar Funciones\r\n    initDataTable();\r\n\r\n    // Función para inicializar la DataTable\r\n    async function initDataTable() {\r\n        if (dataTableInit) {\r\n            dataTable.destroy();  // Destruye la DataTable si ya existe\r\n        }\r\n\r\n        await listarCategorias();  // Llama a la función para listar categorias\r\n\r\n        // Inicializa la DataTable\r\n        dataTable = $(\"#datatable_categorias\").DataTable(dataTableOption);\r\n\r\n        dataTableInit = true;  // Marca que la DataTable fue inicializada\r\n    }\r\n\r\n    async function listarCategorias(){\r\n        try {\r\n\r\n            const url = 'http://localhost:3000/api/categorias/listar';\r\n            const resultado = await fetch(url);\r\n            const categorias = await resultado.json();\r\n\r\n            const estatusDictionary = {\r\n                0: 'Inactivo',\r\n                1: 'Activo'\r\n            };\r\n\r\n            // Selecciona el cuerpo de la tabla\r\n            const tableBody = document.getElementById('tableBody_categorias');\r\n    \r\n            // Limpia el contenido del tbody antes de agregar nuevas filas\r\n            tableBody.innerHTML = '';\r\n\r\n            // Recorre las categorias y genera las filas de la tabla\r\n            categorias.forEach((categoria, index) => {\r\n                \r\n                // Crea una nueva fila\r\n                const row = document.createElement('tr');\r\n\r\n                row.innerHTML = `\r\n                    <td>${index + 1}</td> \r\n                    <td>${categoria.nombre}</td>\r\n                    <td class=\"text-center\">${categoria.capacidad_maxima}</td>\r\n                    <td>${estatusDictionary[categoria.estatus]}</td>\r\n                    <td>\r\n                        <!-- Botón de editar que abre el modal -->\r\n                        <button class=\"btn btn-sm btn-primary\" data-toggle=\"modal\" data-target=\"#editarCategoriaModal${categoria.id}\">\r\n                            <i class=\"fa-solid fa-pen\"></i>\r\n                        </button>\r\n\r\n                        <!-- Modal Editar Categoria -->\r\n                        <div class=\"modal fade modal-editarCategoria\" id=\"editarCategoriaModal${categoria.id}\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"categoriasModalLabel\" aria-hidden=\"true\">\r\n                            <div class=\"modal-dialog\" role=\"document\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <h5 class=\"modal-title\" id=\"categoriasModalLabel\">Editar Categoria</h5>\r\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class=\"modal-body\">\r\n                                        <form method=\"POST\">\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"nombre\">Nombre</label>\r\n                                                <input type=\"text\" class=\"form-control\" id=\"nombre${categoria.id}\" name=\"nombre\" value=\"${categoria.nombre}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"capacidad_maxima\">Capacidad Maxima</label>\r\n                                                <input type=\"number\" class=\"form-control\" id=\"capacidad_maxima${categoria.id}\" name=\"capacidad_maxima\" value=\"${categoria.capacidad_maxima}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"estatus\">Estatus</label>\r\n                                                <select class=\"form-control\" id=\"estatus${categoria.id}\" name=\"estatus\">\r\n                                                    <option value=\"1\" ${categoria.estatus == 1 ? 'selected' : ''}>Activo</option>\r\n                                                    <option value=\"0\" ${categoria.estatus == 0 ? 'selected' : ''}>Inactivo</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"modal-footer\">\r\n                                                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\r\n                                                <button type=\"button\" class=\"btn btn-primary btn-actualizarCategoria\" data-id=\"${categoria.id}\">Guardar</button>\r\n                                            </div>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Botón de eliminar -->\r\n                        <button class=\"btn btn-sm btn-danger btn-eliminarCategoria\" data-id=\"${categoria.id}\">\r\n                            <i class=\"fa-solid fa-trash\"></i>\r\n                        </button>\r\n                    </td>\r\n                `;\r\n                tableBody.appendChild(row);\r\n            });\r\n\r\n            // Delegación para actualizar categoria\r\n            tableBody.addEventListener('click', function(e) {\r\n                if (e.target.classList.contains('btn-actualizarCategoria')) {\r\n                    const categoriaId = e.target.getAttribute('data-id');\r\n                    actualizarCategoria(categoriaId);\r\n                }\r\n            // Delegación para eliminar categoria\r\n                if (e.target.classList.contains('btn-eliminarCategoria')) {\r\n                    const categoriaId = e.target.getAttribute('data-id');\r\n                    confirmarEliminacion(categoriaId);\r\n                }\r\n            });\r\n\r\n            // Subir actualización del cliente\r\n            async function actualizarCategoria(id) {\r\n                const categoria = {\r\n                    id,\r\n                    nombre: document.querySelector(`#nombre${id}`).value.trim(),\r\n                    capacidad_maxima: document.querySelector(`#capacidad_maxima${id}`).value.trim(),\r\n                    estatus: document.querySelector(`#estatus${id}`).value\r\n                };\r\n                await subirActualizacionCategoria(categoria);  // Envía los datos para actualización\r\n            }\r\n\r\n            async function subirActualizacionCategoria(categoria) {\r\n                const datos = new FormData();\r\n                Object.entries(categoria).forEach(([key, value]) => datos.append(key, value));\r\n\r\n                try {\r\n                    const url = 'http://localhost:3000/api/categorias/actualizar';\r\n                    const respuesta = await fetch(url, {\r\n                        method: 'POST',\r\n                        body: datos\r\n                    });\r\n            \r\n                    const resultado = await respuesta.json();\r\n                    mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n            \r\n                    // Cerrar el modal inmediatamente\r\n                    const modal = document.querySelector(`#editarCategoriaModal${categoria.id}`);\r\n                    if (modal) {\r\n                        $(modal).modal('hide');\r\n                    }\r\n            \r\n                    // Llama a listarClients para actualizar los datos sin destruir DataTable\r\n                    await initDataTable();\r\n\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n        function confirmarEliminacion(id){\r\n            Swal.fire({\r\n                title: '¿Estás seguro?',\r\n                text: \"Esta acción no se puede deshacer.\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#d33',\r\n                cancelButtonColor: '#3085d6',\r\n                confirmButtonText: 'Sí, eliminar',\r\n                cancelButtonText: 'Cancelar'\r\n            }).then(async (result) => {\r\n                if (result.isConfirmed) {//result.isConfirmed verifica si el usuario ha hecho clic en \"Sí, eliminar\".\r\n                    try {\r\n                        const datos = new FormData();\r\n                        datos.append('id', id);\r\n\r\n                        const url = `http://localhost:3000/api/categorias/eliminar`;\r\n                        const respuesta = await fetch(url, {\r\n                            method: 'POST',\r\n                            body: datos\r\n                        });\r\n                        \r\n                        const resultado = await respuesta.json();\r\n                        mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n                        \r\n                        if (resultado.tipo === 'success') { //l servidor indica que la eliminación fue exitosa\r\n                            await initDataTable();\r\n                        }\r\n                    } catch (error) {\r\n                        console.error(error);\r\n                    }\r\n                }\r\n            });   \r\n        }\r\n    }\r\n\r\n    function mostrarAlerta(titulo, mensaje, tipo) {\r\n        Swal.fire({\r\n            icon: tipo,\r\n            title: titulo,\r\n            text: mensaje,\r\n        }).then(() => {\r\n            $('.modal').modal('hide'); // Cierra todos los modales activos\r\n        });\r\n    }\r\n\r\n})();","(function () {\r\n    let dataTable;\r\n    let dataTableInit = false;\r\n\r\n    // Opciones de DataTables\r\n    const dataTableOption = {\r\n        destroy: true,\r\n        language: {\r\n            url: 'https://cdn.datatables.net/plug-ins/2.1.8/i18n/es-MX.json',\r\n        },\r\n        //dom: 'Bfrtip', // Agrega la sección para los botones\r\n        dom: '<\"row mb-2\"<\"d-flex justify-content-start col-sm-6\"f><\"d-flex justify-content-end col-sm-6\"B>>' +  // B-> botones, F -> búsqueda\r\n        '<\"row\"<\"col-sm-12\"tr>>' +             // T -> tabla\r\n         '<\"row d-flex justify-content-between\"<\"col d-flex justify-content-start\"l><\"col d-flex justify-content-center\"i><\"col d-flex justify-content-end\"p>>' ,  // L-> de entradas  - I -> número de resultados por página, P-> paginador\r\n        buttons: [\r\n            {\r\n                extend: 'excelHtml5',\r\n                text: '<i class=\"fa-solid fa-file-excel\"></i>',\r\n                titleAttr: 'Exportar a Excel',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-success'\r\n            },\r\n            {\r\n                extend: 'pdfHtml5',\r\n                text: '<i class=\"fa-solid fa-file-pdf\"></i>',\r\n                titleAttr: 'Exportar a PDF',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-danger'\r\n            },\r\n            {\r\n                extend: 'csvHtml5',\r\n                text: '<i class=\"fa-solid fa-file-csv\"></i>',\r\n                titleAttr: 'Exportar a CSV',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-primary'\r\n            },\r\n            {\r\n                extend: 'print',\r\n                text: '<i class=\"fa-solid fa-print\"></i>',\r\n                titleAttr: 'Imprimir',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-info'\r\n            }\r\n\r\n        ],\r\n        columnDefs: [\r\n            { orderable: false, targets: [3, 4, 7] }  // Desactiva la ordenación en la columna 8 (índice 7)\r\n        ]\r\n    };\r\n\r\n\r\n    //Ejecutar Funciones\r\n    initDataTable();\r\n\r\n    // Función para inicializar la DataTable\r\n    async function initDataTable() {\r\n        if (dataTableInit) {\r\n            dataTable.destroy();  // Destruye la DataTable si ya existe\r\n        }\r\n\r\n        await listarClients();  // Llama a la función para listar usuarios\r\n\r\n        // Inicializa la DataTable\r\n        dataTable = $(\"#datatable_clients\").DataTable(dataTableOption);\r\n\r\n        dataTableInit = true;  // Marca que la DataTable fue inicializada\r\n    }\r\n\r\n    // Función para listar los clientes\r\n    async function listarClients() {\r\n        try {\r\n            const url = 'http://localhost:3000/api/clientes/listar';\r\n            const resultado = await fetch(url);\r\n            const clientes = await resultado.json();\r\n\r\n            // Selecciona el cuerpo de la tabla\r\n            const tableBody = document.getElementById('tableBody_clients');\r\n\r\n            // Limpia el contenido del tbody antes de agregar nuevas filas\r\n            tableBody.innerHTML = '';\r\n\r\n            // Recorre los clientes y genera las filas de la tabla\r\n            clientes.forEach((cliente, index) => {\r\n                // Crea una nueva fila\r\n                const row = document.createElement('tr');\r\n\r\n                // Agrega celdas (td) a la fila con la información que quieres mostrar\r\n                row.innerHTML = `\r\n                    <td>${index + 1}</td> \r\n                    <td>${cliente.nombre}</td>\r\n                    <td>${cliente.apellidos}</td>\r\n                    <td>${cliente.correo}</td>\r\n                    <td>${cliente.telefono}</td>\r\n                    <td>${cliente.documento_identidad}</td>\r\n                    <td>${cliente.fecha_nacimiento}</td>\r\n                    <td>\r\n                        <!-- Botón de editar que abre el modal -->\r\n                        <button class=\"btn btn-sm btn-primary\" data-toggle=\"modal\" data-target=\"#editarClienteModal${cliente.id}\">\r\n                            <i class=\"fa-solid fa-pen\"></i>\r\n                        </button>\r\n\r\n                        <!-- Modal Editar Cliente -->\r\n                        <div class=\"modal fade modal-editarCliente\" id=\"editarClienteModal${cliente.id}\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"clientesModalLabel\" aria-hidden=\"true\">\r\n                            <div class=\"modal-dialog\" role=\"document\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <h5 class=\"modal-title\" id=\"clientesModalLabel\">Editar Cliente</h5>\r\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class=\"modal-body\">\r\n                                        <form method=\"POST\">\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"nombre\">Nombre</label>\r\n                                                <input type=\"text\" class=\"form-control\" id=\"nombre${cliente.id}\" name=\"nombre\" value=\"${cliente.nombre}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"apellidos\">Apellidos</label>\r\n                                                <input type=\"text\" class=\"form-control\" id=\"apellidos${cliente.id}\" name=\"apellidos\" value=\"${cliente.apellidos}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"correo\">Correo</label>\r\n                                                <input type=\"email\" class=\"form-control\" id=\"correo${cliente.id}\" name=\"correo\" value=\"${cliente.correo}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"telefono\">Telefono</label>\r\n                                                <input type=\"text\" class=\"form-control\" id=\"telefono${cliente.id}\" name=\"telefono\" value=\"${cliente.telefono}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"documento_identidad\">DNI</label>\r\n                                                <input type=\"text\" class=\"form-control\" id=\"documento_identidad${cliente.id}\" name=\"documento_identidad\" value=\"${cliente.documento_identidad}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"fecha_nacimiento\">Fecha de Nacimiento</label>\r\n                                                <input type=\"date\" class=\"form-control\" id=\"fecha_nacimiento${cliente.id}\" name=\"fecha_nacimiento\" value=\"${cliente.fecha_nacimiento}\" />\r\n                                            </div>\r\n                                            <div class=\"modal-footer\">\r\n                                                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\r\n                                                <button type=\"button\" class=\"btn btn-primary btn-actualizarCliente\" data-id=\"${cliente.id}\">Guardar</button>\r\n                                            </div>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Botón de eliminar -->\r\n                        <button class=\"btn btn-sm btn-danger btn-eliminarCliente\" data-id=\"${cliente.id}\">\r\n                            <i class=\"fa-solid fa-trash\"></i>\r\n                        </button>\r\n                    </td>\r\n                `;\r\n                tableBody.appendChild(row); \r\n            });\r\n\r\n            // Delegación para actualizar cliente\r\n            tableBody.addEventListener('click', function(e) {\r\n                if (e.target.classList.contains('btn-actualizarCliente')) {\r\n                    const clienteId = e.target.getAttribute('data-id');\r\n                    actualizarCliente(clienteId);\r\n                }\r\n            // Delegación para eliminar cliente\r\n                if (e.target.classList.contains('btn-eliminarCliente')) {\r\n                    const clienteId = e.target.getAttribute('data-id');\r\n                    confirmarEliminacion(clienteId);\r\n                }\r\n            });\r\n\r\n            // Subir actualización del cliente\r\n            async function actualizarCliente(id) {\r\n                const cliente = {\r\n                    id,\r\n                    nombre: document.querySelector(`#nombre${id}`).value.trim(),\r\n                    apellidos: document.querySelector(`#apellidos${id}`).value.trim(),\r\n                    correo: document.querySelector(`#correo${id}`).value.trim(),\r\n                    telefono: document.querySelector(`#telefono${id}`).value.trim(),\r\n                    documento_identidad: document.querySelector(`#documento_identidad${id}`).value.trim(),\r\n                    fecha_nacimiento: document.querySelector(`#fecha_nacimiento${id}`).value\r\n                };\r\n                await subirActualizacionCliente(cliente);  // Envía los datos para actualización\r\n            }\r\n\r\n            async function subirActualizacionCliente(cliente) {\r\n                const datos = new FormData();\r\n                Object.entries(cliente).forEach(([key, value]) => datos.append(key, value));\r\n            \r\n                try {\r\n                    const url = 'http://localhost:3000/api/clientes/actualizar';\r\n                    const respuesta = await fetch(url, {\r\n                        method: 'POST',\r\n                        body: datos\r\n                    });\r\n            \r\n                    const resultado = await respuesta.json();\r\n                    mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n            \r\n                    // Cerrar el modal inmediatamente\r\n                    const modal = document.querySelector(`#editarClienteModal${cliente.id}`);\r\n                    if (modal) {\r\n                        $(modal).modal('hide');\r\n                    }\r\n            \r\n                    // Llama a listarClients para actualizar los datos sin destruir DataTable\r\n                    await initDataTable();\r\n            \r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n        function confirmarEliminacion(id){\r\n            Swal.fire({\r\n                title: '¿Estás seguro?',\r\n                text: \"Esta acción no se puede deshacer.\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#d33',\r\n                cancelButtonColor: '#3085d6',\r\n                confirmButtonText: 'Sí, eliminar',\r\n                cancelButtonText: 'Cancelar'\r\n            }).then(async (result) => {\r\n                if (result.isConfirmed) {//result.isConfirmed verifica si el usuario ha hecho clic en \"Sí, eliminar\".\r\n                    try {\r\n                        const datos = new FormData();\r\n                        datos.append('id', id);\r\n\r\n                        const url = `http://localhost:3000/api/clientes/eliminar`;\r\n                        const respuesta = await fetch(url, {\r\n                            method: 'POST',\r\n                            body: datos\r\n                        });\r\n                        \r\n                        const resultado = await respuesta.json();\r\n                        mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n                        \r\n                        if (resultado.tipo === 'success') { //l servidor indica que la eliminación fue exitosa\r\n                            await initDataTable();\r\n                        }\r\n                    } catch (error) {\r\n                        console.error(error);\r\n                    }\r\n                }\r\n            });   \r\n        }\r\n    }\r\n\r\n    const botonSubirCliente = document.querySelector('.btnSubirCliente');\r\n    if(botonSubirCliente){\r\n        document.querySelector('.btnSubirCliente').addEventListener('click', async function () {\r\n            // Crear objeto cliente con los valores de los campos\r\n            const nuevoCliente = {\r\n                nombre: document.getElementById('nombre').value.trim(),\r\n                apellidos: document.getElementById('apellidos').value.trim(),\r\n                correo: document.getElementById('correo').value.trim(),\r\n                telefono: document.getElementById('telefono').value.trim(),\r\n                documento_identidad: document.getElementById('documento_identidad').value.trim(),\r\n                fecha_nacimiento: document.getElementById('fecha_nacimiento').value\r\n            };\r\n        \r\n            // Validar que no estén vacíos los campos obligatorios\r\n            if (!nuevoCliente.nombre || !nuevoCliente.apellidos || !nuevoCliente.correo) {\r\n                mostrarAlerta('Error', 'Todos los campos son obligatorios', 'error');\r\n                return;\r\n            }\r\n        \r\n            try {\r\n                // Crear un FormData para enviar los datos\r\n                const datos = new FormData();\r\n                Object.entries(nuevoCliente).forEach(([key, value]) => datos.append(key, value));\r\n        \r\n                // Enviar petición para agregar cliente\r\n                const url = 'http://localhost:3000/api/clientes/crear';\r\n                const respuesta = await fetch(url, {\r\n                    method: 'POST',\r\n                    body: datos\r\n                });\r\n        \r\n                const resultado = await respuesta.json();\r\n                mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n        \r\n                // Cierra el modal al guardar\r\n                $('#clientesModal').modal('hide');\r\n        \r\n                // Vuelve a cargar los datos para reflejar el nuevo cliente en la tabla\r\n                await initDataTable();\r\n        \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        });\r\n    }\r\n\r\n    function mostrarAlerta(titulo, mensaje, tipo) {\r\n        Swal.fire({\r\n            icon: tipo,\r\n            title: titulo,\r\n            text: mensaje,\r\n        }).then(() => {\r\n            $('.modal').modal('hide'); // Cierra todos los modales activos\r\n        });\r\n    }    \r\n    \r\n})();\r\n","(function (){\r\n\r\n    let dataTable;\r\n    let dataTableInit = false;\r\n\r\n    // Opciones de DataTables\r\n    const dataTableOption = {\r\n        destroy: true,\r\n        language: {\r\n            url: 'https://cdn.datatables.net/plug-ins/2.1.8/i18n/es-MX.json',\r\n        },\r\n        //dom: 'Bfrtip', // Agrega la sección para los botones\r\n        dom: '<\"row mb-2\"<\"d-flex justify-content-start col-sm-6\"f><\"d-flex justify-content-end col-sm-6\"B>>' +  // B-> botones, F -> búsqueda\r\n        '<\"row\"<\"col-sm-12\"tr>>' +             // T -> tabla\r\n         '<\"row d-flex justify-content-between\"<\"col d-flex justify-content-start\"l><\"col d-flex justify-content-center\"i><\"col d-flex justify-content-end\"p>>' ,  // L-> de entradas  - I -> número de resultados por página, P-> paginador\r\n        buttons: [\r\n            {\r\n                extend: 'excelHtml5',\r\n                text: '<i class=\"fa-solid fa-file-excel\"></i>',\r\n                titleAttr: 'Exportar a Excel',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-success'\r\n            },\r\n            {\r\n                extend: 'pdfHtml5',\r\n                text: '<i class=\"fa-solid fa-file-pdf\"></i>',\r\n                titleAttr: 'Exportar a PDF',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-danger'\r\n            },\r\n            {\r\n                extend: 'csvHtml5',\r\n                text: '<i class=\"fa-solid fa-file-csv\"></i>',\r\n                titleAttr: 'Exportar a CSV',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-primary'\r\n            },\r\n            {\r\n                extend: 'print',\r\n                text: '<i class=\"fa-solid fa-print\"></i>',\r\n                titleAttr: 'Imprimir',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-info'\r\n            }\r\n\r\n        ],\r\n        columnDefs: [\r\n            { orderable: false, targets: [6,8] },  // Desactiva la ordenación en la columna 8 (índice 7)\r\n            { visible: false, targets: [5] }\r\n        ],\r\n    };\r\n\r\n\r\n    //Ejecutar Funciones\r\n    initDataTable();\r\n\r\n    // Función para inicializar la DataTable\r\n    async function initDataTable() {\r\n        if (dataTableInit) {\r\n            dataTable.destroy();  // Destruye la DataTable si ya existe\r\n        }\r\n\r\n        await listarHabitaciones();  // Llama a la función para listar usuarios\r\n\r\n        // Inicializa la DataTable\r\n        dataTable = $(\"#datatable_habitaciones\").DataTable(dataTableOption);\r\n\r\n        dataTableInit = true;  // Marca que la DataTable fue inicializada\r\n    }\r\n\r\n    async function listarHabitaciones() {\r\n        try {\r\n            const url = 'http://localhost:3000/api/habitaciones/listar';\r\n            const resultado = await fetch(url);\r\n            const habitaciones = await resultado.json();\r\n    \r\n            const url2 = 'http://localhost:3000/api/niveles/listar';\r\n            const resultado2 = await fetch(url2);\r\n            const niveles = await resultado2.json();\r\n\r\n            const url3 = 'http://localhost:3000/api/categorias/listar';\r\n            const resultado3 = await fetch(url3);\r\n            const categorias = await resultado3.json();\r\n    \r\n            const estatusDictionary = {\r\n                0: 'Inactivo',\r\n                1: 'Activo'\r\n            };\r\n\r\n            // Selecciona el cuerpo de la tabla\r\n            const tableBody = document.getElementById('tableBody_habitaciones');\r\n    \r\n            // Limpia el contenido del tbody antes de agregar nuevas filas\r\n            tableBody.innerHTML = '';\r\n    \r\n            // Recorre las habitaciones y genera las filas de la tabla\r\n            habitaciones.forEach((habitacion, index) => {\r\n                // Encuentra el nombre del nivel correspondiente al `nivel_id` de la habitación\r\n                const nivel = niveles.find(nivel => nivel.id === habitacion.nivel_id);\r\n                const nombreNivel = nivel ? nivel.nombre : 'Sin Nivel';\r\n\r\n                const categoria = categorias.find(categoria => categoria.id === habitacion.categoria_id)\r\n                const nombreCategoria = categoria ? categoria.nombre : 'Sin Categoria';\r\n\r\n                // Genera todas las opciones del select dinámicamente\r\n                let opcionesNiveles = '';\r\n                niveles.forEach(nivel => {\r\n                    opcionesNiveles += `\r\n                        <option value=\"${nivel.id}\" ${habitacion.nivel_id === nivel.id ? 'selected' : ''}>${nivel.nombre}</option>\r\n                    `;\r\n                });\r\n\r\n                let opcionesCategoria = '';\r\n                categorias.forEach( categoria =>{\r\n                    opcionesCategoria += `\r\n                        <option value=\"${categoria.id}\" ${habitacion.categoria_id === categoria.id ? 'selected' : ''}>${categoria.nombre}</option>\r\n                    `;\r\n                });\r\n    \r\n                // Crea una nueva fila\r\n                const row = document.createElement('tr');\r\n    \r\n                // Agrega celdas (td) a la fila con la información que quieres mostrar\r\n                row.innerHTML = `\r\n                    <td>${index + 1}</td> \r\n                    <td>${habitacion.nombre}</td>\r\n                    <td>${nombreNivel}</td> <!-- Muestra el nombre del nivel en lugar del ID -->\r\n                    <td>${nombreCategoria}</td>\r\n                    <td>${habitacion.precio}</td>\r\n                    <td>${habitacion.tarifa}</td>\r\n                    <td>${habitacion.detalles}</td>\r\n                    <td>${estatusDictionary[habitacion.estatus]}</td>\r\n                    <td>\r\n                        <!-- Botón de editar que abre el modal -->\r\n                        <button class=\"btn btn-sm btn-primary\" data-toggle=\"modal\" data-target=\"#editarHabitacionModal${habitacion.id}\">\r\n                            <i class=\"fa-solid fa-pen\"></i>\r\n                        </button>\r\n\r\n                        <!-- Modal Editar Habitacion -->\r\n                        <div class=\"modal fade modal-editarHabitacion\" id=\"editarHabitacionModal${habitacion.id}\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"habitacionesModalLabel\" aria-hidden=\"true\">\r\n\r\n                            <div class=\"modal-dialog\" role=\"document\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <h5 class=\"modal-title\" id=\"habitacionesModalLabel\">Editar Habitacion</h5>\r\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class=\"modal-body\">\r\n                                        <form method=\"POST\">\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"nombre\">Nombre</label>\r\n                                                <input type=\"text\" class=\"form-control\" id=\"nombre${habitacion.id}\" name=\"nombre\" value=\"${habitacion.nombre}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"nivel_id\">Nivel</label>\r\n                                                <select class=\"form-control\" id=\"nivel_id${habitacion.id}\" name=\"nivel_id\">\r\n                                                     ${opcionesNiveles} <!-- Aquí se incluyen todas las opciones generadas -->\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"categoria_id\">Categoria</label>\r\n                                                <select class=\"form-control\" id=\"categoria_id${habitacion.id}\" name=\"categoria_id\">\r\n                                                     ${opcionesCategoria} <!-- Aquí se incluyen todas las opciones generadas -->\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"precio\">Precio</label>\r\n                                                <input type=\"number\" class=\"form-control\" id=\"precio${habitacion.id}\" name=\"precio\" value=\"${habitacion.precio}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"detalles\">Detalles</label>\r\n                                                <input type=\"text\" class=\"form-control\" id=\"detalles${habitacion.id}\" name=\"detalles\" value=\"${habitacion.detalles}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"estatus\">Estatus</label>\r\n                                                <select class=\"form-control\" id=\"estatus${habitacion.id}\" name=\"estatus\">\r\n                                                    <option value=\"1\" ${habitacion.estatus == 1 ? 'selected' : ''}>Activo</option>\r\n                                                    <option value=\"0\" ${habitacion.estatus == 0 ? 'selected' : ''}>Inactivo</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"modal-footer\">\r\n                                                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\r\n                                                <button type=\"button\" class=\"btn btn-primary btn-actualizarHabitacion\" data-id=\"${habitacion.id}\">Guardar</button>\r\n                                            </div>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n    \r\n                        <!-- Botón de eliminar -->\r\n                        <button class=\"btn btn-sm btn-danger btn-eliminarHabitacion\" data-id=\"${habitacion.id}\">\r\n                            <i class=\"fa-solid fa-trash\"></i>\r\n                        </button>\r\n                    </td>\r\n                `;\r\n                tableBody.appendChild(row);\r\n            });\r\n\r\n            // Delegación para actualizar habitacion\r\n            tableBody.addEventListener('click', function(e) {\r\n                if (e.target.classList.contains('btn-actualizarHabitacion')) {\r\n                    const habitacioniD = e.target.getAttribute('data-id');\r\n                    actualizarHabitacion(habitacioniD);\r\n                }\r\n            // Delegación para eliminar habitacion\r\n                if (e.target.classList.contains('btn-eliminarHabitacion')) {\r\n                    const habitacionId = e.target.getAttribute('data-id');\r\n                    confirmarEliminacion(habitacionId);\r\n                }\r\n            });\r\n\r\n            // Subir actualización del cliente\r\n            async function actualizarHabitacion(id) {\r\n                const habitacion = {\r\n                    id,\r\n                    nombre: document.querySelector(`#nombre${id}`).value.trim(),\r\n                    nivel_id: document.querySelector(`#nivel_id${id}`).value.trim(),\r\n                    categoria_id: document.querySelector(`#categoria_id${id}`).value.trim(),\r\n                    precio: document.querySelector(`#precio${id}`).value.trim(),\r\n                    detalles: document.querySelector(`#detalles${id}`).value.trim(),\r\n                    estatus: document.querySelector(`#estatus${id}`).value\r\n                };\r\n                await subirActualizacionHabitacion(habitacion);  // Envía los datos para actualización\r\n            }\r\n\r\n            async function subirActualizacionHabitacion(habitacion) {\r\n                const datos = new FormData();\r\n                Object.entries(habitacion).forEach(([key, value]) => datos.append(key, value));\r\n\r\n                try {\r\n                    const url = 'http://localhost:3000/api/habitaciones/actualizar';\r\n                    const respuesta = await fetch(url, {\r\n                        method: 'POST',\r\n                        body: datos\r\n                    });\r\n            \r\n                    const resultado = await respuesta.json();\r\n                    mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n            \r\n                    // Cerrar el modal inmediatamente\r\n                    const modal = document.querySelector(`#editarHabitacionModal${habitacion.id}`);\r\n                    if (modal) {\r\n                        $(modal).modal('hide');\r\n                    }\r\n            \r\n                    // Llama a listarClients para actualizar los datos sin destruir DataTable\r\n                    await initDataTable();\r\n            \r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n        function confirmarEliminacion(id){\r\n            Swal.fire({\r\n                title: '¿Estás seguro?',\r\n                text: \"Esta acción no se puede deshacer.\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#d33',\r\n                cancelButtonColor: '#3085d6',\r\n                confirmButtonText: 'Sí, eliminar',\r\n                cancelButtonText: 'Cancelar'\r\n            }).then(async (result) => {\r\n                if (result.isConfirmed) {//result.isConfirmed verifica si el usuario ha hecho clic en \"Sí, eliminar\".\r\n                    try {\r\n                        const datos = new FormData();\r\n                        datos.append('id', id);\r\n\r\n                        const url = `http://localhost:3000/api/habitaciones/eliminar`;\r\n                        const respuesta = await fetch(url, {\r\n                            method: 'POST',\r\n                            body: datos\r\n                        });\r\n                        \r\n                        const resultado = await respuesta.json();\r\n                        mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n                        \r\n                        if (resultado.tipo === 'success') { //l servidor indica que la eliminación fue exitosa\r\n                            await initDataTable();\r\n                        }\r\n                    } catch (error) {\r\n                        console.error(error);\r\n                    }\r\n                }\r\n            });   \r\n        }\r\n    }\r\n\r\n    const botonSubirHabitacion = document.querySelector('.btnSubirHabitacion');\r\n    if(botonSubirHabitacion){\r\n        document.querySelector('.btnSubirHabitacion').addEventListener('click',async function (){\r\n            // Crear objeto habitacion con los valores de los campos\r\n            const nuevaHabitacion = {\r\n                nombre: document.getElementById('nombre').value.trim(),\r\n                nivel_id: document.getElementById('nivel_id').value,\r\n                categoria_id: document.getElementById('categoria_id').value,\r\n                precio : document.getElementById('precio').value,\r\n                tarifa : document.getElementById('tarifa').value,\r\n                detalles : document.getElementById('detalles').value,\r\n                estatus : document.getElementById('estatus').value\r\n            };\r\n\r\n            // Validar que no estén vacíos los campos obligatorios\r\n            if (!nuevaHabitacion.nombre || !nuevaHabitacion.nivel_id || !nuevaHabitacion.categoria_id || !nuevaHabitacion.precio || !nuevaHabitacion.detalles) {\r\n                mostrarAlerta('Error', 'Todos los campos son obligatorios', 'error');\r\n                return;\r\n            }\r\n\r\n            // Si no hay errores, enviamos los DATOS AL SERVIDOR  \r\n            try {\r\n                // Crear un FormData para enviar los datos\r\n                const datos = new FormData();\r\n                Object.entries(nuevaHabitacion).forEach(([key, value]) => datos.append(key, value));\r\n\r\n                // Enviar petición para agregar usuario\r\n                const url = 'http://localhost:3000/api/habitaciones/crear';\r\n                const respuesta = await fetch(url, {\r\n                    method: 'POST',\r\n                    body: datos\r\n                });\r\n\r\n                const resultado = await respuesta.json();\r\n                    mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n            \r\n                    // Cierra el modal al guardar\r\n                    $('#habitacionesModal').modal('hide');\r\n            \r\n                    // Vuelve a cargar los datos para reflejar el nuevo usuario en la tabla\r\n                    await initDataTable();\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        });\r\n    }\r\n\r\n    function mostrarAlerta(titulo, mensaje, tipo) {\r\n        Swal.fire({\r\n            icon: tipo,\r\n            title: titulo,\r\n            text: mensaje,\r\n        }).then(() => {\r\n            $('.modal').modal('hide'); // Cierra todos los modales activos\r\n        });\r\n    }  \r\n\r\n})();","(function (){\r\n\r\n    let dataTable;\r\n    let dataTableInit = false;\r\n\r\n    //Configuracion DataTable\r\n    const dataTableOption = {\r\n        destroy: true,\r\n        language: {\r\n            url: 'https://cdn.datatables.net/plug-ins/2.1.8/i18n/es-MX.json',\r\n        },\r\n        //dom: 'Bfrtip', // Agrega la sección para los botones\r\n        dom: '<\"row mb-2\"<\"d-flex justify-content-start col-sm-6\"f><\"d-flex justify-content-end col-sm-6\"B>>' +  // B-> botones, F -> búsqueda\r\n        '<\"row\"<\"col-sm-12\"tr>>' +             // T -> tabla\r\n         '<\"row d-flex justify-content-between\"<\"col d-flex justify-content-start\"l><\"col d-flex justify-content-center\"i><\"col d-flex justify-content-end\"p>>' ,  // L-> de entradas  - I -> número de resultados por página, P-> paginador\r\n        buttons: [\r\n            {\r\n                extend: 'excelHtml5',\r\n                text: '<i class=\"fa-solid fa-file-excel\"></i>',\r\n                titleAttr: 'Exportar a Excel',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-success'\r\n            },\r\n            {\r\n                extend: 'pdfHtml5',\r\n                text: '<i class=\"fa-solid fa-file-pdf\"></i>',\r\n                titleAttr: 'Exportar a PDF',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-danger'\r\n            },\r\n            {\r\n                extend: 'csvHtml5',\r\n                text: '<i class=\"fa-solid fa-file-csv\"></i>',\r\n                titleAttr: 'Exportar a CSV',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-primary'\r\n            },\r\n            {\r\n                extend: 'print',\r\n                text: '<i class=\"fa-solid fa-print\"></i>',\r\n                titleAttr: 'Imprimir',\r\n                exportOptions: {\r\n                    columns: ':not(.no-export)' // Asegúrate de que la clase 'no-export' esté en la columna que quieres ocultar\r\n                },\r\n                className: 'btn btn-info'\r\n            }\r\n\r\n        ],\r\n        columnDefs: [\r\n            { orderable: false, targets: [3, 8] },  // Desactiva la ordenación en la columna 8 (índice 7)\r\n            { visible: false, targets: [5,6,13,14] }\r\n        ]\r\n    };\r\n\r\n    //Ejecutar Funciones\r\n    initDataTable();\r\n\r\n    //Inicializamos DataTable\r\n    async function initDataTable(){\r\n        if(dataTableInit){\r\n            dataTable.destroy(); //Destruye la tabla si ya existe previamente\r\n        }\r\n\r\n        await listarUsers();\r\n\r\n        //Inicializa DataTable\r\n        dataTable = $('#datatable_users').DataTable(dataTableOption);\r\n        \r\n        dataTableInit = true;\r\n    }\r\n\r\n    // Funcion para listar a los usuarios\r\n    async function listarUsers(){\r\n\r\n        const rolesDictionary = {\r\n            1: 'Administrador',\r\n            2: 'General',\r\n            3: 'Limpieza'\r\n        };\r\n\r\n        const estatusDictionary = {\r\n            0: 'Inactivo',\r\n            1: 'Activo'\r\n        };\r\n\r\n        try{\r\n\r\n            const url = 'http://localhost:3000/api/usuarios/listar';\r\n            const resultado = await fetch(url);\r\n            const usuarios = await resultado.json();\r\n            \r\n            //Selecciono el cuerpo de la tabla\r\n            const tableBody = document.getElementById('tableBody_users');\r\n\r\n            tableBody.innerHTML = '';\r\n\r\n            //Recorreo el arreglo de usuarios y genera las filas de la tabla\r\n            usuarios.forEach((usuario, index) => {\r\n                \r\n                const row = document.createElement('tr');\r\n\r\n                row.innerHTML = `\r\n                    <td>${index + 1}</td>\r\n                    <td>${usuario.nombre}</td>\r\n                    <td>${usuario.apellido}</td>\r\n                    <td>${usuario.direccion}</td>   \r\n                    <td>${usuario.email}</td>\r\n                    <td>${usuario.password}</td>\r\n                    <td>${usuario.password2}</td>\r\n                    <td>${usuario.fecha_nacimiento}</td>\r\n                    <td>${rolesDictionary[usuario.rol_id]}</td>\r\n                    <td>${estatusDictionary[usuario.estatus]}</td>\r\n                    <td>${usuario.fecha_creacion}</td>\r\n                    <td>${usuario.ultimo_acceso}</td>\r\n                    <td class=\"text-center\">\r\n                        ${usuario.confirmado == 1 \r\n                            ? '<i class=\"fa-solid fa-check-circle text-success\" title=\"Confirmado\"></i>' \r\n                            : '<i class=\"fa-solid fa-times-circle text-danger\" title=\"No Confirmado\"></i>'}\r\n                    </td>\r\n                    <td>${usuario.password_actual}</td>\r\n                    <td>${usuario.password_nuevo}</td>\r\n                    <td>\r\n                        <!-- Botón de editar que abre el modal -->\r\n                        <button class=\"btn btn-sm btn-primary\" data-toggle=\"modal\" data-target=\"#editarUsuarioModal${usuario.id}\">\r\n                            <i class=\"fa-solid fa-pen\"></i>\r\n                        </button>\r\n\r\n                        <!-- Modal Editar Usuario -->\r\n                        <div class=\"modal fade modal-editarUsuario\" id=\"editarUsuarioModal${usuario.id}\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"UsuarioModalLabel\" aria-hidden=\"true\">\r\n                            <div class=\"modal-dialog\" role=\"document\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <h5 class=\"modal-title\" id=\"usuariosModalLabel\">Editar Usuario</h5>\r\n                                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class=\"modal-body\">\r\n                                        <form method=\"POST\">\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"nombre\">Nombre</label>\r\n                                                <input type=\"text\" class=\"form-control\" id=\"nombre${usuario.id}\" name=\"nombre\" value=\"${usuario.nombre}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"apellidos\">Apellidos</label>\r\n                                                <input type=\"text\" class=\"form-control\" id=\"apellido${usuario.id}\" name=\"apellidos\" value=\"${usuario.apellido}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"direccion\">Direccion</label>\r\n                                                <input type=\"text\" class=\"form-control\" id=\"direccion${usuario.id}\" name=\"direccion\" value=\"${usuario.direccion}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"correo\">Correo</label>\r\n                                                <input type=\"email\" class=\"form-control\" id=\"correo${usuario.id}\" name=\"correo\" value=\"${usuario.email}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"fecha_nacimiento\">Fecha de Nacimiento</label>\r\n                                                <input type=\"date\" class=\"form-control\" id=\"fecha_nacimiento${usuario.id}\" name=\"fecha_nacimiento\" value=\"${usuario.fecha_nacimiento}\" />\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"rol_id\">Rol</label>\r\n                                                <select class=\"form-control\" id=\"rol_id${usuario.id}\" name=\"rol_id\">\r\n                                                    <option value=\"1\" ${usuario.rol_id == 1 ? 'selected' : ''}>Administrador</option>\r\n                                                    <option value=\"2\" ${usuario.rol_id == 2 ? 'selected' : ''}>General</option>\r\n                                                    <option value=\"3\" ${usuario.rol_id == 3 ? 'selected' : ''}>Limpieza</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"estatus\">Estatus</label>\r\n                                                <select class=\"form-control\" id=\"estatus${usuario.id}\" name=\"estatus\">\r\n                                                    <option value=\"1\" ${usuario.estatus == 1 ? 'selected' : ''}>Activo</option>\r\n                                                    <option value=\"0\" ${usuario.estatus == 0 ? 'selected' : ''}>Inactivo</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"confirmado\">Confirmado</label>\r\n                                                <select class=\"form-control\" id=\"confirmado${usuario.id}\" name=\"confirmado\">\r\n                                                    <option value=\"1\" ${usuario.confirmado == 1 ? 'selected' : ''}>Confirmado</option>\r\n                                                    <option value=\"0\" ${usuario.confirmado == 0 ? 'selected' : ''}>No Confirmado</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class=\"modal-footer\">\r\n                                                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\r\n                                                <button type=\"button\" class=\"btn btn-primary btn-actualizarUsuario\" data-id=\"${usuario.id}\">Guardar</button>\r\n                                            </div>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    \r\n                        <!-- Botón de eliminar -->\r\n                        <button class=\"btn btn-sm btn-danger btn-eliminarUsuario\" data-id=\"${usuario.id}\">\r\n                            <i class=\"fa-solid fa-trash\"></i>\r\n                        </button>\r\n                    </td>\r\n                `;\r\n\r\n                tableBody.appendChild(row);                \r\n            });\r\n\r\n            // Delegación para actualizar usuario\r\n            tableBody.addEventListener('click', function(e) {\r\n                if (e.target.classList.contains('btn-actualizarUsuario')) {\r\n                    const UsuarioId = e.target.getAttribute('data-id');\r\n                    actualizarUsuario(UsuarioId);\r\n                }\r\n                // Delegación para eliminar usuario\r\n                if (e.target.classList.contains('btn-eliminarUsuario')) {\r\n                    const UsuarioId = e.target.getAttribute('data-id');\r\n                    confirmarEliminacionUsuario(UsuarioId);\r\n                }\r\n                });\r\n\r\n                //Subir actualización del usuario\r\n                async function actualizarUsuario(id) {\r\n                    const usuario = {\r\n                        id,\r\n                        nombre: document.querySelector(`#nombre${id}`).value.trim(),\r\n                        apellido: document.querySelector(`#apellido${id}`).value.trim(),\r\n                        direccion: document.querySelector(`#direccion${id}`).value.trim(),\r\n                        email: document.querySelector(`#correo${id}`).value.trim(),\r\n                        fecha_nacimiento: document.querySelector(`#fecha_nacimiento${id}`).value,\r\n                        rol_id: document.querySelector(`#rol_id${id}`).value, // Value from select\r\n                        estatus: document.querySelector(`#estatus${id}`).value, // Value from select\r\n                        confirmado: document.querySelector(`#confirmado${id}`).value // Value from select\r\n                    };\r\n                    //console.log(usuario);\r\n                    await subirActualizacionUsuario(usuario);  // Envía los datos para actualización\r\n                }\r\n                async function subirActualizacionUsuario(usuario){\r\n                    const datos = new FormData();\r\n                    Object.entries(usuario).forEach(([key, value]) => datos.append(key, value));\r\n\r\n                    try{\r\n                        const url = 'http://localhost:3000/api/usuarios/actualizar';\r\n                        const respuesta = await fetch(url,{\r\n                            method: 'POST',\r\n                            body: datos\r\n                        });\r\n                        \r\n                        const resultado = await respuesta.json();\r\n                        mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n\r\n                        //Cerrar el modal inmediatamente\r\n                        const modal = document.querySelector(`#editarUsuarioModal${usuario.id}`);\r\n                        if (modal) {\r\n                            $(modal).modal('hide');\r\n                        }\r\n\r\n                        // Llama listarUsers para actualizar los datos sin destruir el Datatable\r\n                        await initDataTable();\r\n\r\n                    } catch(error){\r\n                        console.log(error);\r\n                    }\r\n                }\r\n\r\n        } catch(e){\r\n            console.log(e);\r\n        }\r\n\r\n        // Subir Usuario\r\n        const botonSubirUsuario = document.querySelector('.btnSubirUsuario');\r\n        if(botonSubirUsuario){\r\n            document.querySelector('.btnSubirUsuario').addEventListener('click', async function (){\r\n                // Crear objeto usuario con los valores de los campos\r\n                const nuevoUsuario = {\r\n                    nombre: document.getElementById('nombre').value.trim(),\r\n                    apellido: document.getElementById('apellido').value.trim(),\r\n                    direccion: document.getElementById('direccion').value.trim(),\r\n                    email: document.getElementById('email').value.trim(),\r\n                    password: document.getElementById('password').value.trim(),\r\n                    password2: document.getElementById('password2').value.trim(),\r\n                    rol_id: document.getElementById('rol_id').value,\r\n                    fecha_nacimiento: document.getElementById('fecha_nacimiento').value\r\n                };\r\n\r\n                // Validar que no estén vacíos los campos obligatorios\r\n                if (!nuevoUsuario.nombre || !nuevoUsuario.apellido || !nuevoUsuario.email) {\r\n                    mostrarAlerta('Error', 'Todos los campos son obligatorios', 'error');\r\n                    return;\r\n                }\r\n\r\n                if (nuevoUsuario.password != nuevoUsuario.password2){\r\n                    mostrarAlerta('Error', 'Las contraseñas no coinciden', 'error');\r\n                    return;\r\n                }\r\n\r\n                // Eliminar password2 antes de enviar al servidor\r\n                delete nuevoUsuario.password2;\r\n\r\n                // Si no hay errores, enviamos los DATOS AL SERVIDOR        \r\n                try {\r\n                    // Crear un FormData para enviar los datos\r\n                    const datos = new FormData();\r\n                    Object.entries(nuevoUsuario).forEach(([key, value]) => datos.append(key, value));\r\n        \r\n                    // Enviar petición para agregar usuario\r\n                    const url = 'http://localhost:3000/api/usuarios/crear';\r\n                    const respuesta = await fetch(url, {\r\n                        method: 'POST',\r\n                        body: datos\r\n                    });\r\n            \r\n                    const resultado = await respuesta.json();\r\n                    mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n            \r\n                    // Cierra el modal al guardar\r\n                    $('#usuariosModal').modal('hide');\r\n            \r\n                    // Vuelve a cargar los datos para reflejar el nuevo usuario en la tabla\r\n                    await initDataTable();\r\n            \r\n                } catch (error) {\r\n                    console.log(error);\r\n                };\r\n            });\r\n        };\r\n\r\n        //Eliminar usuario\r\n        function confirmarEliminacionUsuario(id){\r\n            Swal.fire({\r\n                title: '¿Estás seguro?',\r\n                text: \"Esta acción no se puede deshacer.\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#d33',\r\n                cancelButtonColor: '#3085d6',\r\n                confirmButtonText: 'Sí, eliminar',\r\n                cancelButtonText: 'Cancelar'\r\n            }).then(async (result) => {\r\n                if (result.isConfirmed) {//result.isConfirmed verifica si el usuario ha hecho clic en \"Sí, eliminar\".\r\n                    try {\r\n                        const datos = new FormData();\r\n                        datos.append('id', id);\r\n\r\n                        const url = `http://localhost:3000/api/usuarios/eliminar`;\r\n                        const respuesta = await fetch(url, {\r\n                            method: 'POST',\r\n                            body: datos\r\n                        });\r\n                        \r\n                        const resultado = await respuesta.json();\r\n                        mostrarAlerta(resultado.titulo, resultado.mensaje, resultado.tipo);\r\n                        \r\n                        if (resultado.tipo === 'success') { //el servidor indica que la eliminación fue exitosa\r\n                            // Llama listarUsers para actualizar los datos sin destruir el Datatable\r\n                            await initDataTable();\r\n                        }\r\n                    } catch (error) {\r\n                        console.error(error);\r\n                    }\r\n                }\r\n            });   \r\n        }\r\n    }\r\n\r\n    // Funcion para mostrar alertas\r\n    function mostrarAlerta(titulo, mensaje, tipo) {\r\n        // Mostrar la alerta con SweetAlert2\r\n        Swal.fire({\r\n            icon: tipo,  // Tipo de alerta (success, error, warning, info, etc.)\r\n            title: titulo,\r\n            text: mensaje,  // Mensaje de la alerta\r\n        }).then(() => {\r\n            // Cerrar el modal de edición del usuario al cerrar la alerta\r\n            const modales = document.querySelectorAll('.modal-editarUsuario');\r\n            modales.forEach(modal => {\r\n                if ($(modal).hasClass('show')) {\r\n                    $(modal).modal('hide');\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n})();"]}